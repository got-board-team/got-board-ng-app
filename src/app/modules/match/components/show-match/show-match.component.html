<div *ngIf="match">
  <div style="display:flex;justify-content:space-between;">
    <div style="display:flex;">
      <div><a routerLink="/matches">Matches</a></div>
    </div>

    <div>
      <h1>Match {{match.id}} created at: {{match.createdAt | date: 'medium'}}</h1>
    </div>
  </div>

  <div id="board">
    <div id="warroom" style="display: flex; position:absolute; top: 250px; left: 50px; background: rgba(0,0,0,.5); padding: 1em;">
      <div *ngFor="let unit of units" [ngClass]="'unit ' + unit" [attr.data-unit-type]="unit" [attr.data-unit-new]="true" (mousedown)="onMousedown($event, unit)" (mouseup)="onMouseup($event, unit)">{{unit}}</div>
    </div>

    <svg>
      <ng-container *ngFor="let area of areas">
        <svg:path class="territory" [attr.d]="area.path" [id]="area.slug" />
      </ng-container>

      <ng-container *ngIf="boardUnits.length > 0">
        <image *ngFor="let unit of boardUnits" [id]="unit.id" [ngClass]="'unit ' + unit.type" [attr.data-unit-type]="unit.type" [attr.href]="'/assets/units/baratheon-' + unit.type + '.png'" [attr.x]="unit.x" [attr.y]="unit.y" boardDraggable>{{unit.type}} unit</image>
      </ng-container>

      <ng-container *ngFor="let area of areas">
        <ng-container *ngIf="areaUnit[area.slug]">
          <image *ngFor="let unit of areaUnit[area.slug].units" [id]="unit.id" [ngClass]="'unit ' + unit.type" [attr.data-unit-type]="unit.type" [attr.href]="'/assets/units/baratheon-' + unit.type + '.png'" [attr.x]="unit.x" [attr.y]="unit.y" boardDraggable [unit]="unit">{{unit.type}} unit in {{area.slug}}</image>
        </ng-container>
      </ng-container>
    </svg>
  </div>
</div>
